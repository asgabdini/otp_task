# سیستم احراز هویت مبتنی بر OTP

## معرفی  
این پروژه یک سیستم ساده احراز هویت با استفاده از کد OTP است که با REST API طراحی شده است. کاربران با وارد کردن شماره موبایل، درخواست کد می‌دهند، سپس کد را وارد می‌کنند و در صورت صحت، ثبت‌نام یا ورود انجام می‌شود.

## ویژگی‌ها

- **درخواست و تایید OTP**  
  - تولید کد OTP تصادفی و ذخیره موقت در Redis با اعتبار ۲ دقیقه  
  - نمایش کد OTP فقط در لاگ (ارسال پیامک واقعی ندارد)  
  - تایید کد OTP برای ورود یا ثبت‌نام کاربر

- **مدیریت کاربران**  
  - ذخیره شماره موبایل و تاریخ ثبت‌نام کاربران در MongoDB  
  - ذخیره تاریخ ثبت نام پس از ثبت نام موفق

- **محدودیت درخواست‌ها**  
  - محدودیت درخواست OTP: هر شماره موبایل فقط یک بار در هر ۲ دقیقه امکان درخواست دارد

- **امنیت**  
  - تولید توکن JWT پس از ورود موفق

- **مستندات API**  
  - استفاده از Swagger برای مستندسازی کامل API

- **داکرايز شدن پروژه**  
  - استفاده از Docker Compose برای اجرای همزمان برنامه، MongoDB و Redis

## تکنولوژی‌ها

- Node.js و Express  
- MongoDB (به دلیل ساختار بدون اسکیمای انعطاف‌پذیر که توسعه سریع و تغییر آسان مدل داده‌ها را ممکن می‌کند)  
- Redis  
- JWT  
- Swagger  
- Docker

## نحوه راه‌اندازی

1. یک فایل به نام `.env` در ریشه پروژه بسازید و مقادیر زیر را در آن قرار دهید (مقدار پورت دلخواه خود را وارد کنید):
    
SECRET_KEY=your_secret_key

SERVER_PORT=your_desired_port

MONGO_URL=mongodb://localhost:27017/otp


2. اجرای پروژه با Docker Compose:  

docker-compose up --build


3. دسترسی به API از طریق:
   
http://localhost:<SERVER_PORT>

4. مشاهده مستندات Swagger:
   
http://localhost:<SERVER_PORT>/api-docs

## نکات مهم

- کدهای OTP فعلاً فقط در لاگ سرور نمایش داده می‌شوند و ارسال پیامک واقعی انجام نمی‌شود  
- محدودیت درخواست‌ها به صورت پایه پیاده شده و قابل توسعه است  
- توکن JWT در حال حاضر بدون تاریخ انقضا است، می‌توان این قابلیت را اضافه کرد

---
